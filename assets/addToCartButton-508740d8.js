import{a as n,i as c}from"./iziToast-385631db.js";class u extends HTMLElement{constructor(){super(),this.minus=this.querySelector(".minus"),this.plus=this.querySelector(".plus"),this.button=this.querySelector(".js-add-to-cart"),this.price=this.querySelector(".price"),this.quanity=document.querySelector(".quanity")}connectedCallback(){this.minus.addEventListener("click",this.decreaseQuanity.bind(this)),this.plus.addEventListener("click",this.increaseQuanity.bind(this)),this.button.addEventListener("click",this.addToCart.bind(this))}addToCart(){const t=this.querySelector(".lds-ring"),e=document.querySelector(".js-add-to-cart"),i=this.querySelector(".js-add-to-cart span");e.style.pointerEvents="none",t.style.display="inline-block",i.style.display="none";const s=document.querySelector(".product-form").getAttribute("data-id"),o=document.querySelector(".quanity").value;n.post(`${window.Shopify.routes.root}cart/add.js`,{id:+s,quantity:+o}).then(()=>{n.get(`${window.Shopify.routes.root}cart.js`).then(a=>{const r=document.querySelector(".cart-icon-count span");r.innerHTML=a.data.item_count,c.show({title:"Item Added to the cart!",color:"#abf7b1"}),t.style.display="none",i.style.display="inline-block",e.style.pointerEvents="all"})})}increaseQuanity(){+this.quanity.value<100&&(this.quanity.value=+this.quanity.value+1)}decreaseQuanity(){+this.quanity.value>0&&(this.quanity.value=+this.quanity.value-1)}}customElements.define("add-to-cart-button",u);
